{% extends 'base.html' %}
{% block content %}
<div class="container mt-5">
    <h1>{{ event.name }}</h1>
    
    {% if event.poster %}
        <img src="{{ event.poster.url }}" alt="{{ event.name }}" class="img-fluid mb-3" style="max-height: 400px;">
    {% endif %}

    <p class="lead">{{ event.description }}</p>
    <p><strong>Date:</strong> {{ event.date|date:"F j, Y, P" }}</p>
    <p><strong>Location:</strong> {{ event.venue|default:"Online" }}</p>

    <h3>Tickets</h3>
    <ul class="list-group mb-4">
        {% for ticket in event.tickets.all %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <h5>{{ ticket.get_type_display }}</h5>
                    <span class="badge bg-secondary">${{ ticket.price }}</span>
                </div>
                
                {% if not ticket.is_sold_out %}
                    <!-- Placeholder form for buying tickets -->
                    <form method="POST" action="#">
                        {% csrf_token %}
                        <input type="hidden" name="ticket_id" value="{{ ticket.id }}">
                        <button type="button" class="btn btn-success" disabled>Buy Ticket (Coming Soon)</button>
                    </form>
                {% else %}
                    <span class="badge bg-danger">Sold Out</span>
                {% endif %}
            </li>
        {% empty %}
            <li class="list-group-item">No tickets available yet.</li>
        {% endfor %}
    </ul>
    
    <a href="{% url 'events:list' %}" class="btn btn-secondary">Back to Events</a>
</div>
{% endblock %}
